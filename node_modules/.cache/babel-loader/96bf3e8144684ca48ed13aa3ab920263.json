{"ast":null,"code":"var _jsxFileName = \"/home/reginaldoteixeira/github-directory/github-project-trybe/sd-026-b-project-frontend-online-store/src/pages/ShoppingCart.jsx\";\nimport React, { Component } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass ShoppingCart extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      isEmpty: true,\n      cartItems: []\n    };\n\n    this.getLocalStorage = () => {\n      const cartItemRecovered = JSON.parse(localStorage.getItem('cartItems'));\n\n      if (cartItemRecovered) {\n        const cartItemRemap = cartItemRecovered.map(item => ({ ...item,\n          quantity: 1\n        }));\n        this.setState({\n          isEmpty: false,\n          cartItems: cartItemRemap\n        });\n      }\n    };\n\n    this.handleIncrease = _ref => {\n      let {\n        target: {\n          name\n        }\n      } = _ref;\n      const {\n        cartItems\n      } = this.state;\n      const cart = cartItems.map(item => {\n        if (item.id === name && item.quantity < item.available_quantity) {\n          item.quantity += 1;\n        }\n\n        return item;\n      });\n      this.setState({\n        cartItems: cart\n      });\n    };\n\n    this.handleDecrease = _ref2 => {\n      let {\n        target: {\n          name\n        }\n      } = _ref2;\n      const {\n        cartItems\n      } = this.state;\n      const cart = cartItems.map(item => {\n        if (item.id === name && item.quantity > 1) {\n          item.quantity -= 1;\n        }\n\n        return item;\n      });\n      this.setState({\n        cartItems: cart\n      });\n    };\n\n    this.handleDelete = _ref3 => {\n      let {\n        target: {\n          name\n        }\n      } = _ref3;\n      const {\n        cartItems\n      } = this.state;\n      const cart = cartItems.filter(item => item.id !== name);\n      this.setState({\n        cartItems: cart\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.getLocalStorage();\n  }\n\n  render() {\n    const {\n      isEmpty,\n      cartItems\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: isEmpty ? /*#__PURE__*/_jsxDEV(\"h1\", {\n        \"data-testid\": \"shopping-cart-empty-message\",\n        children: \"Seu carrinho est\\xE1 vazio\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 13\n      }, this) : cartItems.map(_ref4 => {\n        let {\n          title,\n          price,\n          id,\n          thumbnail,\n          quantity\n          /* available_quantity: availableQuantity, */\n\n        } = _ref4;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            \"data-testid\": \"shopping-cart-product-name\",\n            children: title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            src: thumbnail,\n            alt: title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: price\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            name: id,\n            type: \"button\",\n            \"data-testid\": \"remove-product\",\n            onClick: this.handleDelete,\n            children: \"x\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            name: id,\n            type: \"button\",\n            \"data-testid\": \"product-decrease-quantity\",\n            onClick: this.handleDecrease\n            /* disabled={ quantity > 0 } */\n            ,\n            children: \"-\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            \"data-testid\": \"shopping-cart-product-quantity\",\n            children: quantity\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            name: id,\n            type: \"button\",\n            \"data-testid\": \"product-increase-quantity\",\n            onClick: this.handleIncrease,\n            children: \"+\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 21\n          }, this)]\n        }, id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 19\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default ShoppingCart;","map":{"version":3,"names":["React","Component","ShoppingCart","state","isEmpty","cartItems","getLocalStorage","cartItemRecovered","JSON","parse","localStorage","getItem","cartItemRemap","map","item","quantity","setState","handleIncrease","target","name","cart","id","available_quantity","handleDecrease","handleDelete","filter","componentDidMount","render","title","price","thumbnail"],"sources":["/home/reginaldoteixeira/github-directory/github-project-trybe/sd-026-b-project-frontend-online-store/src/pages/ShoppingCart.jsx"],"sourcesContent":["import React, { Component } from 'react';\n\nclass ShoppingCart extends Component {\n  state = {\n    isEmpty: true,\n    cartItems: [],\n  };\n\n  componentDidMount() {\n    this.getLocalStorage();\n  }\n\n  getLocalStorage = () => {\n    const cartItemRecovered = JSON.parse(localStorage.getItem('cartItems'));\n    if (cartItemRecovered) {\n      const cartItemRemap = cartItemRecovered.map((item) => ({ ...item, quantity: 1 }));\n      this.setState({\n        isEmpty: false,\n        cartItems: cartItemRemap,\n      });\n    }\n  };\n\n  /* handleChangeInput = ({ target }) => {\n    const { name, value } = target;\n    const { cartItems } = this.state;\n    const cart = cartItems.map((item) => {\n      if (item.id === name) {\n        item.quantity = value;\n      }\n      return item;\n    });\n    this.setState({\n      cartItems: cart,\n    });\n  }; */\n\n  handleIncrease = ({ target: { name } }) => {\n    const { cartItems } = this.state;\n    const cart = cartItems.map((item) => {\n      if (item.id === name && item.quantity < item.available_quantity) {\n        item.quantity += 1;\n      }\n      return item;\n    });\n    this.setState({\n      cartItems: cart,\n    });\n  };\n\n  handleDecrease = ({ target: { name } }) => {\n    const { cartItems } = this.state;\n    const cart = cartItems.map((item) => {\n      if (item.id === name && item.quantity > 1) {\n        item.quantity -= 1;\n      }\n      return item;\n    });\n    this.setState({\n      cartItems: cart,\n    });\n  };\n\n  handleDelete = ({ target: { name } }) => {\n    const { cartItems } = this.state;\n    const cart = cartItems.filter((item) => item.id !== name);\n    this.setState({\n      cartItems: cart,\n    });\n  };\n\n  render() {\n    const { isEmpty, cartItems } = this.state;\n    return (\n      <div>\n        {\n          isEmpty ? (\n            <h1 data-testid=\"shopping-cart-empty-message\">\n              Seu carrinho est√° vazio\n            </h1>)\n            : (\n              cartItems\n                .map(({\n                  title, price, id, thumbnail, quantity,\n                  /* available_quantity: availableQuantity, */\n                }) => (\n                  <div key={ id }>\n                    <h3 data-testid=\"shopping-cart-product-name\">{title}</h3>\n                    <img\n                      src={ thumbnail }\n                      alt={ title }\n                    />\n                    <p>{price}</p>\n                    <button\n                      name={ id }\n                      type=\"button\"\n                      data-testid=\"remove-product\"\n                      onClick={ this.handleDelete }\n                    >\n                      x\n                    </button>\n                    <button\n                      name={ id }\n                      type=\"button\"\n                      data-testid=\"product-decrease-quantity\"\n                      onClick={ this.handleDecrease }\n                      /* disabled={ quantity > 0 } */\n                    >\n                      -\n                    </button>\n                    {/* <input\n                      type=\"number\"\n                      name={ id }\n                      data-testid=\"shopping-cart-product-quantity\"\n                      min=\"1\"\n                      max={ availableQuantity }\n                      value={ quantity }\n                      onChange={ this.handleChangeInput }\n                    /> */}\n                    <span data-testid=\"shopping-cart-product-quantity\">{quantity}</span>\n                    <button\n                      name={ id }\n                      type=\"button\"\n                      data-testid=\"product-increase-quantity\"\n                      onClick={ this.handleIncrease }\n                    >\n                      +\n                    </button>\n                  </div>\n                ))\n            )\n        }\n      </div>\n    );\n  }\n}\n\nexport default ShoppingCart;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}