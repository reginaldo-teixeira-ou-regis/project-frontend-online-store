{"ast":null,"code":"var _jsxFileName = \"/home/reginaldoteixeira/github-directory/github-project-trybe/project-frontend-online-store/src/pages/ShoppingCart.jsx\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass ShoppingCart extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      isEmpty: true,\n      cartItems: []\n    };\n\n    this.getLocalStorage = () => {\n      const cartItemRecovered = JSON.parse(localStorage.getItem('cartItems'));\n\n      if (cartItemRecovered) {\n        this.setState({\n          isEmpty: false,\n          cartItems: cartItemRecovered\n        });\n      }\n    };\n\n    this.handleIncrease = _ref => {\n      let {\n        target: {\n          name\n        }\n      } = _ref;\n      const {\n        cartItems\n      } = this.state;\n      const cart = cartItems.map(item => {\n        if (item.id === name && item.quantity < item.available_quantity) {\n          item.quantity += 1;\n        }\n\n        return item;\n      });\n      this.setState({\n        cartItems: cart\n      });\n      localStorage.cartItems = JSON.stringify(cart);\n    };\n\n    this.handleDecrease = _ref2 => {\n      let {\n        target: {\n          name\n        }\n      } = _ref2;\n      const {\n        cartItems\n      } = this.state;\n      const cart = cartItems.map(item => {\n        if (item.id === name && item.quantity > 1) {\n          item.quantity -= 1;\n        }\n\n        return item;\n      });\n      this.setState({\n        cartItems: cart\n      });\n      localStorage.cartItems = JSON.stringify(cart);\n    };\n\n    this.handleDelete = _ref3 => {\n      let {\n        target: {\n          name\n        }\n      } = _ref3;\n      const {\n        cartItems\n      } = this.state;\n      const cart = cartItems.filter(item => item.id !== name);\n      this.setState({\n        cartItems: cart\n      });\n      localStorage.cartItems = JSON.stringify(cart);\n    };\n  }\n\n  componentDidMount() {\n    this.getLocalStorage();\n  }\n\n  render() {\n    const {\n      isEmpty,\n      cartItems\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [isEmpty ? /*#__PURE__*/_jsxDEV(\"h1\", {\n        \"data-testid\": \"shopping-cart-empty-message\",\n        children: \"Seu carrinho est\\xE1 vazio\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 13\n      }, this) : cartItems.map(_ref4 => {\n        let {\n          title,\n          price,\n          id,\n          thumbnail,\n          quantity\n          /* available_quantity: availableQuantity, */\n\n        } = _ref4;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            \"data-testid\": \"shopping-cart-product-name\",\n            children: title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            src: thumbnail,\n            alt: title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: price\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            name: id,\n            type: \"button\",\n            \"data-testid\": \"remove-product\",\n            onClick: this.handleDelete,\n            children: \"x\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            name: id,\n            type: \"button\",\n            \"data-testid\": \"product-decrease-quantity\",\n            onClick: this.handleDecrease\n            /* disabled={ quantity > 0 } */\n            ,\n            children: \"-\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            \"data-testid\": \"shopping-cart-product-quantity\",\n            children: quantity\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            name: id,\n            type: \"button\",\n            \"data-testid\": \"product-increase-quantity\",\n            onClick: this.handleIncrease,\n            children: \"+\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 21\n          }, this)]\n        }, id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 19\n        }, this);\n      }), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/checkout\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          disabled: isEmpty,\n          \"data-testid\": \"checkout-products\",\n          type: \"button\",\n          children: \"Finalizar pedido\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default ShoppingCart;","map":{"version":3,"names":["React","Component","Link","ShoppingCart","state","isEmpty","cartItems","getLocalStorage","cartItemRecovered","JSON","parse","localStorage","getItem","setState","handleIncrease","target","name","cart","map","item","id","quantity","available_quantity","stringify","handleDecrease","handleDelete","filter","componentDidMount","render","title","price","thumbnail"],"sources":["/home/reginaldoteixeira/github-directory/github-project-trybe/project-frontend-online-store/src/pages/ShoppingCart.jsx"],"sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\n\nclass ShoppingCart extends Component {\n  state = {\n    isEmpty: true,\n    cartItems: [],\n  };\n\n  componentDidMount() {\n    this.getLocalStorage();\n  }\n\n  getLocalStorage = () => {\n    const cartItemRecovered = JSON.parse(localStorage.getItem('cartItems'));\n    if (cartItemRecovered) {\n      this.setState({\n        isEmpty: false,\n        cartItems: cartItemRecovered,\n      });\n    }\n  };\n\n  /* handleChangeInput = ({ target }) => {\n    const { name, value } = target;\n    const { cartItems } = this.state;\n    const cart = cartItems.map((item) => {\n      if (item.id === name) {\n        item.quantity = value;\n      }\n      return item;\n    });\n    this.setState({\n      cartItems: cart,\n    });\n    localStorage.cartItems = JSON.stringify(cart);\n  }; */\n\n  handleIncrease = ({ target: { name } }) => {\n    const { cartItems } = this.state;\n    const cart = cartItems.map((item) => {\n      if (item.id === name && item.quantity < item.available_quantity) {\n        item.quantity += 1;\n      }\n      return item;\n    });\n    this.setState({\n      cartItems: cart,\n    });\n    localStorage.cartItems = JSON.stringify(cart);\n  };\n\n  handleDecrease = ({ target: { name } }) => {\n    const { cartItems } = this.state;\n    const cart = cartItems.map((item) => {\n      if (item.id === name && item.quantity > 1) {\n        item.quantity -= 1;\n      }\n      return item;\n    });\n    this.setState({\n      cartItems: cart,\n    });\n    localStorage.cartItems = JSON.stringify(cart);\n  };\n\n  handleDelete = ({ target: { name } }) => {\n    const { cartItems } = this.state;\n    const cart = cartItems.filter((item) => item.id !== name);\n    this.setState({\n      cartItems: cart,\n    });\n    localStorage.cartItems = JSON.stringify(cart);\n  };\n\n  render() {\n    const { isEmpty, cartItems } = this.state;\n    return (\n      <div>\n        {\n          isEmpty ? (\n            <h1 data-testid=\"shopping-cart-empty-message\">\n              Seu carrinho est√° vazio\n            </h1>)\n            : (\n              cartItems\n                .map(({\n                  title, price, id, thumbnail, quantity,\n                  /* available_quantity: availableQuantity, */\n                }) => (\n                  <div key={ id }>\n                    <h3 data-testid=\"shopping-cart-product-name\">{title}</h3>\n                    <img\n                      src={ thumbnail }\n                      alt={ title }\n                    />\n                    <p>{price}</p>\n                    <button\n                      name={ id }\n                      type=\"button\"\n                      data-testid=\"remove-product\"\n                      onClick={ this.handleDelete }\n                    >\n                      x\n                    </button>\n                    <button\n                      name={ id }\n                      type=\"button\"\n                      data-testid=\"product-decrease-quantity\"\n                      onClick={ this.handleDecrease }\n                      /* disabled={ quantity > 0 } */\n                    >\n                      -\n                    </button>\n                    {/* <input\n                      type=\"number\"\n                      name={ id }\n                      data-testid=\"shopping-cart-product-quantity\"\n                      min=\"1\"\n                      max={ availableQuantity }\n                      value={ quantity }\n                      onChange={ this.handleChangeInput }\n                    /> */}\n                    <span data-testid=\"shopping-cart-product-quantity\">{quantity}</span>\n                    <button\n                      name={ id }\n                      type=\"button\"\n                      data-testid=\"product-increase-quantity\"\n                      onClick={ this.handleIncrease }\n                    >\n                      +\n                    </button>\n                  </div>\n                ))\n            )\n        }\n        <Link to=\"/checkout\">\n          <button\n            disabled={ isEmpty }\n            data-testid=\"checkout-products\"\n            type=\"button\"\n          >\n            Finalizar pedido\n          </button>\n        </Link>\n      </div>\n    );\n  }\n}\n\nexport default ShoppingCart;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}